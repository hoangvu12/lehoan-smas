<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Search Engine -->
    <meta
      name="description"
      content="Thông tin điểm của học sinh <%= student.name %>"
    />
    <meta
      name="image"
      content="https://cdn.glitch.com/1ba8ba5d-255b-4e50-ba1c-955a63c65d11%2Fav509pM_460s.jpg?v=1616770932893"
    />
    <!-- Schema.org for Google -->
    <meta itemprop="name" content="Điểm của <%= student.name %>" />
    <meta
      itemprop="description"
      content="Thông tin điểm của học sinh <%= student.name %>"
    />
    <meta
      itemprop="image"
      content="https://cdn.glitch.com/1ba8ba5d-255b-4e50-ba1c-955a63c65d11%2Fav509pM_460s.jpg?v=1616770932893"
    />
    <!-- Open Graph general (Facebook, Pinterest & Google+) -->
    <meta name="og:title" content="Điểm của <%= student.name %>" />
    <meta
      name="og:description"
      content="Thông tin điểm của học sinh <%= student.name %>"
    />
    <meta name="og:type" content="website" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/font-awesome.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/chart.css" />
    <link rel="stylesheet" href="/css/student.css" />
    <link rel="stylesheet" href="/css/hover.css" />
    <title>SMAS - Lê Hoàn</title>
  </head>
  <body>
    <%- include("../partials/header.ejs") %>

    <div class="back">
      <a href="/"><i class="fas fa-long-arrow-alt-left"></i> Quay về.</a>
    </div>

    <div class="container">
      <div class="row">
        <ul
          class="nav nav-pills justify-content-center my-4"
          id="pills-tab"
          role="tablist"
        >
          <li class="nav-item">
            <a class="nav-link" role="tab" data-semester="1">Học kỳ 1</a>
          </li>

          <li class="nav-item">
            <a class="nav-link active" role="tab" data-semester="2">Học kỳ 2</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" role="tab" data-semester="3">Cả năm</a>
          </li>
        </ul>
      </div>
      <div class="row student-info-container">
        <div class="col-md-6 col-lg-6 col-12">
          <div class="student-info">
            <div class="student-img">
              <img src="/assets/profile-img.png" alt="" />
            </div>

            <div class="student-personal-info">
              <div class="student-name"><%= student.name %></div>
              <div class="student-details">
                <%= student.gender %> | <%= student.birthday %>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-12">
          <div class="student-overall"></div>
        </div>
      </div>
      <div class="row subjects-container"></div>
    </div>

    <div class="subject-analyze" id="subject-analyze">
      <div class="container-fluid">
        <div class="exit-btn"><i class="fas fa-times fa-3x"></i></div>
        <div class="row subject-details">
          <div class="col-12 text-center fs-2">
            <div class="subject-icon mt-4">
              <i class="fas fa-star fa-4x"></i>
            </div>
            <div class="subject-name fs-1"></div>
            <div class="student-name fs-4"><%= student.name %></div>
          </div>
          <div class="col-12">
            <div class="heading fw-bold fs-2 mt-4">Điểm nổi bật</div>
          </div>
        </div>
        <!-- <div class="row chart marks">
          <canvas class="bar-chart bar-chart-marks"></canvas>
        </div>
        <div class="row chart class">
          <canvas class="bar-chart bar-chart-class"></canvas>
          <div class="class-description description">
            <div class="icon"><i class="fas fa-info-circle fa-2x"></i></div>
            <span> </span>
          </div>
        </div>
        <div class="row chart grade">
          <canvas class="bar-chart bar-chart-grade"></canvas>
          <div class="grade-description description">
            <div class="icon"><i class="fas fa-info-circle fa-2x"></i></div>
            <span> </span>
          </div>
        </div> -->
      </div>
    </div>

    <div class="loading-text">Đang lấy dữ liệu...</div>

    <%- include("../partials/footer.ejs") %>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/chart.js"></script>
    <script src="/js/student.js"></script>

    <script>
      const defaultSemester = 2;
      const classID = "<%= student.class_id %>";
      const studentID = "<%= student.pupil_id %>";
      let currentSemester;

      handleShowPage(defaultSemester);
    </script>
  </body>
</html>
